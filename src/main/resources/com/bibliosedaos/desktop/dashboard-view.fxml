<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.bibliosedaos.desktop.controller.DashboardController"
            prefWidth="1200" prefHeight="800"
            styleClass="root">
    <top>
        <VBox styleClass="top-banner" prefHeight="90"/>
    </top>

    <left>
        <VBox fx:id="sidebar" spacing="8" styleClass="left-pane" prefWidth="200">
            <Button onAction="#onShowHome" styleClass="sidebar-btn" text="Inici">
                <graphic>
                    <SVGPath content="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </graphic>
            </Button>

            <VBox fx:id="adminGroup" spacing="4" visible="false" managed="false">
                <Label text="Administrador/a" styleClass="sidebar-section"/>
                <Button onAction="#onManageUsers" styleClass="sidebar-btn" text="Gestió Usuàries">
                    <graphic>
                        <SVGPath content="M17.997 18h-11.995l-.002-.623c0-1.259.1-1.986 1.588-2.33 1.684-.389 3.344-.736 2.545-2.209-2.366-4.363-.674-6.838 1.866-6.838 2.491 0 4.226 2.383 1.866 6.839-.775 1.464.826 1.812 2.545 2.209 1.49.344 1.589 1.072 1.589 2.333l-.002.619zm4.811-2.214c-1.29-.298-2.49-.559-1.909-1.657 1.769-3.342.469-5.129-1.4-5.129-1.265 0-2.248.817-2.248 2.324 0 3.903 2.268 1.77 2.246 6.676h4.501l.002-.463c0-.946-.074-1.493-1.192-1.751zm-22.806 2.214h4.501c-.021-4.906 2.246-2.772 2.246-6.676 0-1.507-.983-2.324-2.248-2.324-1.869 0-3.169 1.787-1.399 5.129.581 1.099-.619 1.359-1.909 1.657-1.119.258-1.193.805-1.193 1.751l.002.463z"/>
                    </graphic>
                </Button>
                <Button onAction="#onManageBooks" styleClass="sidebar-btn" text="Gestió Llibres">
                    <graphic><SVGPath content="M14 0v10l2-1.518 2 1.518v-10h4v24h-17c-1.657 0-3-1.343-3-3v-18c0-1.657 1.343-3 3-3h9zm6 20h-14.505c-1.375 0-1.375 2 0 2h14.505v-2z"/></graphic>
                </Button>
                <Button onAction="#onManageLoans" styleClass="sidebar-btn" text="Gestió Préstecs">
                    <graphic><SVGPath content="M12.5 17.52c1.415-1.054 3.624-1.846 5.5-2v6.479c-1.739.263-3.755 1.104-5.5 2v-6.479zm-1 0c-1.415-1.054-3.624-1.846-5.5-2v6.479c1.739.263 3.755 1.104 5.5 2v-6.479zm-6.5 2.917c-2.049-.674-2.996-1.437-2.996-1.437l-.004-2.025c-.008-2.127.088-3.344 2.648-3.909 2.805-.619 5.799-1.317 4.241-3.521-3.901-5.523-.809-9.545 3.111-9.545 3.921 0 6.996 3.991 3.11 9.545-1.529 2.185 1.376 2.888 4.242 3.521 2.57.568 2.657 1.791 2.647 3.934l-.003 2s-.947.763-2.996 1.437v-6.003l-1.082.089c-2.054.169-4.36 1.002-5.918 2.128-1.559-1.126-3.863-1.959-5.918-2.128l-1.082-.089v6.003z"/></graphic>
                </Button>
            </VBox>

            <VBox fx:id="userGroup" spacing="4" visible="false" managed="false">
                <Label text="Usuari/a" styleClass="sidebar-section"/>
                <Button onAction="#onViewMyLoans" styleClass="sidebar-btn" text="Els meus préstecs">
                    <graphic><SVGPath content="M12.5 17.52c1.415-1.054 3.624-1.846 5.5-2v6.479c-1.739.263-3.755 1.104-5.5 2v-6.479zm-1 0c-1.415-1.054-3.624-1.846-5.5-2v6.479c1.739.263 3.755 1.104 5.5 2v-6.479zm-6.5 2.917c-2.049-.674-2.996-1.437-2.996-1.437l-.004-2.025c-.008-2.127.088-3.344 2.648-3.909 2.805-.619 5.799-1.317 4.241-3.521-3.901-5.523-.809-9.545 3.111-9.545 3.921 0 6.996 3.991 3.11 9.545-1.529 2.185 1.376 2.888 4.242 3.521 2.57.568 2.657 1.791 2.647 3.934l-.003 2s-.947.763-2.996 1.437v-6.003l-1.082.089c-2.054.169-4.36 1.002-5.918 2.128-1.559-1.126-3.863-1.959-5.918-2.128l-1.082-.089v6.003z"/></graphic>
                </Button>
                <Button onAction="#onBrowseBooks" styleClass="sidebar-btn" text="Cercar Llibres">
                    <graphic><SVGPath content="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M6,22A2,2 0 0,1 4,20V4C4,2.89 4.9,2 6,2H7V9L9.5,7.5L12,9V2H18A2,2 0 0,1 20,4V11.81C18.83,10.69 17.25,10 15.5,10A6.5,6.5 0 0,0 9,16.5C9,18.81 10.21,20.85 12.03,22H6Z"/></graphic>
                </Button>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>
            <Label text="Biblio Sedaos  v1.0" styleClass="sidebar-footer"/>
        </VBox>
    </left>

    <center>
        <VBox>

            <HBox spacing="12" alignment="TOP_RIGHT" styleClass="header-box">

                <Label fx:id="userNameLabel" styleClass="user-name" text="Nom Cognom1 Cognom2"/>
                <Label fx:id="userIdLabel" styleClass="user-id" text="ID: 12345"/>

                <StackPane fx:id="badgeStack" styleClass="badge-stack">
                    <SVGPath content="M12 0l2.139 2.629 3.068-1.441.786 3.297 3.389.033-.722 3.312 3.039 1.5-2.088 2.67 2.088 2.67-3.039 1.5.722 3.312-3.389.033-.786 3.297-3.068-1.441-2.139 2.629-2.139-2.629-3.068 1.441-.786-3.297-3.389-.033.722-3.312-3.039-1.5 2.088-2.67-2.088-2.67 3.039-1.5-.722-3.312 3.389-.033.786-3.297 3.068 1.441z"
                             styleClass="badge-icon"/>
                    <Label fx:id="badgeText" styleClass="badge-text" text="ADMIN" visible="false" managed="false"/>
                </StackPane>

                <Region HBox.hgrow="ALWAYS"/>

                <Button fx:id="editProfileButton" onAction="#onEditProfile"
                        styleClass="header-secondary-btn" text="Perfil">
                    <graphic>
                        <SVGPath styleClass="edit-icon"
                                 content="M14.078 4.232l-12.64 12.639-1.438 7.129 7.127-1.438 12.641-12.64-5.69-5.69zm-10.369 14.893l-.85-.85 11.141-11.125.849.849-11.14 11.126zm2.008 2.008l-.85-.85 11.141-11.125.85.85-11.141 11.125zm18.283-15.444l-2.816 2.818-5.691-5.691 2.816-2.816 5.691 5.689z"/>
                    </graphic>
                    <HBox.margin>
                        <Insets right="22" left="8"/>
                    </HBox.margin>
                </Button>

                <Button fx:id="logoutButton" onAction="#onLogout"
                        styleClass="header-primary-btn" text="Logout">
                    <graphic>
                        <SVGPath styleClass="exit-icon"
                                 content="M8 9v-4l8 7-8 7v-4h-8v-6h8zm6-7c-1.787 0-3.46.474-4.911 1.295l.228.2 1.395 1.221c1.004-.456 2.115-.716 3.288-.716 4.411 0 8 3.589 8 8s-3.589 8-8 8c-1.173 0-2.284-.26-3.288-.715l-1.395 1.221-.228.2c1.451.82 3.124 1.294 4.911 1.294 5.522 0 10-4.477 10-10s-4.478-10-10-10z"/>
                    </graphic>
                </Button>
            </HBox>

            <StackPane fx:id="mainContentStack" styleClass="main-content" VBox.vgrow="ALWAYS">
                <Label text="centre dinàmic" styleClass="center-placeholder"/>
            </StackPane>
        </VBox>
    </center>

</BorderPane>
