<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.bibliosedaos.desktop.controller.BooksListController"
            prefWidth="1200" prefHeight="800"
            styleClass="root">

    <top>
        <VBox spacing="8" styleClass="header-section">
            <padding>
                <Insets top="20" right="24" bottom="16" left="24"/>
            </padding>

            <HBox alignment="CENTER" spacing="18">
                <SVGPath styleClass="header-icon" content="M14 0v10l2-1.518 2 1.518v-10h4v24h-17c-1.657 0-3-1.343-3-3v-18c0-1.657 1.343-3 3-3h9zm6 20h-14.505c-1.375 0-1.375 2 0 2h14.505v-2z"/>
                <Label text="Gestió de Llibres" styleClass="header-title"/>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="12" styleClass="search-container">
                <ComboBox fx:id="searchFieldCombo" prefWidth="140" prefHeight="32" promptText="Cercar per..."/>
                <HBox styleClass="search-field-container" alignment="CENTER_LEFT">
                    <SVGPath styleClass="search-icon-svg" content="M23.111 20.058l-4.977-4.977c.965-1.52 1.523-3.322 1.523-5.251 0-5.42-4.409-9.83-9.829-9.83-5.42 0-9.828 4.41-9.828 9.83s4.408 9.83 9.829 9.83c1.834 0 3.552-.505 5.022-1.383l5.021 5.021c2.144 2.141 5.384-1.096 3.239-3.24zm-20.064-10.228c0-3.739 3.043-6.782 6.782-6.782s6.782 3.042 6.782 6.782-3.043 6.782-6.782 6.782-6.782-3.043-6.782-6.782zm2.01-1.764c1.984-4.599 8.664-4.066 9.922.749-2.534-2.974-6.993-3.294-9.922-.749z"/>
                    <TextField fx:id="searchField" promptText="Introdueix text per cercar..." styleClass="search-field-integrated"/>
                </HBox>

                <Region prefWidth="20"/>

                <Label text="ID llibre:" styleClass="search-type-combo"/>
                <HBox styleClass="search-id-container">
                    <TextField fx:id="searchByIdField" promptText="Introdueix ID" styleClass="search-id-field-integrated"/>
                    <Button fx:id="newExemplarButton" onAction="#onNewExemplar" styleClass="search-id-button" text="Nou Exemplar">
                        <graphic>
                            <SVGPath styleClass="search-icon-button" content="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z"/>
                        </graphic>
                        <tooltip><Tooltip text="Introdueix ID per afegir exemplar"/></tooltip>
                    </Button>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <Button fx:id="newBookButton" onAction="#onNewBook" styleClass="primary-btn" text="➕ Nou Llibre">
                    <padding><Insets top="8" right="16" bottom="8" left="16"/></padding>
                </Button>
            </HBox>
        </VBox>
    </top>

    <center>
        <ScrollPane fx:id="mainScrollPane" fitToWidth="true" hbarPolicy="NEVER" styleClass="main-scroll-pane">
            <VBox spacing="8" styleClass="table-container">
                <padding><Insets top="8" right="24" bottom="8" left="24"/></padding>

                <TableView fx:id="booksTable" styleClass="data-table" VBox.vgrow="ALWAYS" fixedCellSize="36">
                    <columns>
                        <TableColumn fx:id="idColumn" text="ID" styleClass="id-column" prefWidth="45"/>
                        <TableColumn fx:id="titolColumn" text="Títol" minWidth="260"/>
                        <TableColumn fx:id="autorColumn" text="Autor" minWidth="160"/>
                        <TableColumn fx:id="actionsColumn" text="Accions" styleClass="actions-column" minWidth="267"/>
                    </columns>
                </TableView>

                <HBox alignment="CENTER" spacing="16" styleClass="pagination-container">
                    <Button fx:id="prevPageButton" onAction="#onPreviousPage" styleClass="pagination-btn" text="◀ Anterior"/>
                    <Label fx:id="pageInfoLabel" styleClass="page-info" text="Pàgina 1 de 1"/>
                    <Button fx:id="nextPageButton" onAction="#onNextPage" styleClass="pagination-btn" text="Següent ▶"/>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
