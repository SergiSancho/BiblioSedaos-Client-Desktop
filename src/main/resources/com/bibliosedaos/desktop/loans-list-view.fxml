<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.bibliosedaos.desktop.controller.LoansListController"
            prefWidth="1200" prefHeight="800"
            styleClass="root">

    <top>
        <VBox spacing="8" styleClass="header-section">
            <padding>
                <Insets top="20" right="24" bottom="16" left="24"/>
            </padding>

            <HBox alignment="CENTER" spacing="18">
                <SVGPath styleClass="header-icon" content="M12.5 17.52c1.415-1.054 3.624-1.846 5.5-2v6.479c-1.739.263-3.755 1.104-5.5 2v-6.479zm-1 0c-1.415-1.054-3.624-1.846-5.5-2v6.479c1.739.263 3.755 1.104 5.5 2v-6.479zm-6.5 2.917c-2.049-.674-2.996-1.437-2.996-1.437l-.004-2.025c-.008-2.127.088-3.344 2.648-3.909 2.805-.619 5.799-1.317 4.241-3.521-3.901-5.523-.809-9.545 3.111-9.545 3.921 0 6.996 3.991 3.11 9.545-1.529 2.185 1.376 2.888 4.242 3.521 2.57.568 2.657 1.791 2.647 3.934l-.003 2s-.947.763-2.996 1.437v-6.003l-1.082.089c-2.054.169-4.36 1.002-5.918 2.128-1.559-1.126-3.863-1.959-5.918-2.128l-1.082-.089v6.003z"/>
                <Label text="Gestió de Préstecs" styleClass="header-title"/>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="12" styleClass="search-container">
                <ComboBox fx:id="searchFieldCombo" prefWidth="150" prefHeight="32" promptText="Cercar per..."/>
                <HBox styleClass="search-field-container" alignment="CENTER_LEFT">
                    <SVGPath styleClass="search-icon-svg" content="M23.111 20.058l-4.977-4.977c.965-1.52 1.523-3.322 1.523-5.251 0-5.42-4.409-9.83-9.829-9.83-5.42 0-9.828 4.41-9.828 9.83s4.408 9.83 9.829 9.83c1.834 0 3.552-.505 5.022-1.383l5.021 5.021c2.144 2.141 5.384-1.096 3.239-3.24zm-20.064-10.228c0-3.739 3.043-6.782 6.782-6.782s6.782 3.042 6.782 6.782-3.043 6.782-6.782 6.782-6.782-3.043-6.782-6.782zm2.01-1.764c1.984-4.599 8.664-4.066 9.922.749-2.534-2.974-6.993-3.294-9.922-.749z"/>
                    <TextField fx:id="searchField" prefWidth="120" promptText="Introdueix text per cercar..." styleClass="search-field-integrated"/>
                </HBox>

                <Region prefWidth="12"/>

                <CheckBox fx:id="historicCheck" text="Veure històric" />

                <Region prefWidth="12"/>

                <Label text="ID usuari:" styleClass="search-type-combo"/>
                <HBox prefWidth="95" styleClass="search-id-container">
                    <TextField fx:id="searchByIdField" promptText="Intro ID" styleClass="search-id-field-integrated"/>
                    <Button fx:id="searchByIdButton" onAction="#onSearchByUserId" styleClass="search-id-button">
                        <graphic>
                            <SVGPath styleClass="search-icon-button" content="M23.111 20.058l-4.977-4.977c.965-1.52 1.523-3.322 1.523-5.251 0-5.42-4.409-9.83-9.829-9.83-5.42 0-9.828 4.41-9.828 9.83s4.408 9.83 9.829 9.83c1.834 0 3.552-.505 5.022-1.383l5.021 5.021c2.144 2.141 5.384-1.096 3.239-3.24zm-20.064-10.228c0-3.739 3.043-6.782 6.782-6.782s6.782 3.042 6.782 6.782-3.043 6.782-6.782 6.782-6.782-3.043-6.782-6.782zm2.01-1.764c1.984-4.599 8.664-4.066 9.922.749-2.534-2.974-6.993-3.294-9.922-.749z"/>
                        </graphic>
                        <tooltip><Tooltip text="Cercar préstecs per Usuari"/></tooltip>
                    </Button>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <Button fx:id="newPrestecButton" onAction="#onNewPrestec" styleClass="primary-btn" text="➕ Nou Prestec">
                    <padding><Insets top="8" right="16" bottom="8" left="16"/></padding>
                </Button>
            </HBox>
        </VBox>
    </top>

    <center>
        <ScrollPane fx:id="mainScrollPane" fitToWidth="true" hbarPolicy="NEVER" styleClass="main-scroll-pane">
            <VBox spacing="8" styleClass="table-container">
                <padding><Insets top="8" right="24" bottom="8" left="24"/></padding>

                <TableView fx:id="prestecsTable" styleClass="data-table" VBox.vgrow="ALWAYS" fixedCellSize="36">
                    <columns>
                        <TableColumn fx:id="idColumn" text="ID" styleClass="id-column" minWidth="50"/>
                        <TableColumn fx:id="titolColumn" text="Títol" minWidth="260"/>
                        <TableColumn fx:id="usuariColumn" text="Usuari" minWidth="150"/>
                        <TableColumn fx:id="dataPrestecColumn" text="Data Inici" styleClass="id-column" minWidth="110"/>
                        <TableColumn fx:id="dataDevolucioColumn" text="Data Devolució" styleClass="id-column" minWidth="110"/>
                        <TableColumn fx:id="actionsColumn" text="Accions" styleClass="actions-column" minWidth="200"/>
                    </columns>
                </TableView>

                <HBox alignment="CENTER" spacing="16" styleClass="pagination-container">
                    <Button fx:id="prevPageButton" onAction="#onPreviousPage" styleClass="pagination-btn" text="◀ Anterior"/>
                    <Label fx:id="pageInfoLabel" styleClass="page-info" text="Pàgina 1 de 1"/>
                    <Button fx:id="nextPageButton" onAction="#onNextPage" styleClass="pagination-btn" text="Següent ▶"/>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>

